% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data.R
\docType{data}
\name{transport_sim}
\alias{transport_sim}
\title{Simulated Transportability Data}
\format{
A data frame with 1500 rows and 7 variables:
\describe{
\item{age}{Standardized age (mean 0, SD 1)}
\item{biomarker}{Continuous biomarker value}
\item{smoking}{Binary smoking status (1 = smoker, 0 = non-smoker)}
\item{source}{Population indicator (1 = source/RCT, 0 = target).
RCT patients tend to be younger and less likely to smoke.}
\item{treatment}{Binary treatment indicator (1 = treated, 0 = untreated).
Randomized (50/50) in source, confounded by age and biomarker in target.}
\item{event}{Binary outcome indicating event (1 = event, 0 = no event).
Risk depends on age, biomarker, smoking, and is reduced by treatment.}
\item{risk_score}{Predicted probability of event from a model trained
on the source population, using age, biomarker, and smoking as predictors.}
}
}
\source{
Simulated data based on the framework in Voter et al. (2025).
"Transportability of machine learning-based counterfactual prediction models."
Diagnostic and Prognostic Research, 9(4).
\doi{10.1186/s41512-025-00201-y}
}
\usage{
transport_sim
}
\description{
A simulated dataset for demonstrating transportability analysis of
prediction model performance. The data includes source (RCT) and target
populations, where treatment is randomized in the source but confounded
in the target.
}
\details{
The data generating process creates realistic heterogeneity between
source (RCT) and target populations:

\itemize{
\item \strong{Selection into RCT}: RCT patients are younger on average and
less likely to be smokers, reflecting typical trial enrollment patterns.
\item \strong{Treatment assignment}:
\itemize{
\item Source: Randomized with \code{P(A=1) = 0.5}
\item Target: Confounded with \code{P(A=1|X) = plogis(-0.3 + 0.015*age + 0.2*biomarker)}
}
\item \strong{Outcome model}: \code{P(Y=1|X,A) = plogis(-2.5 + 0.03*age + 0.4*biomarker + 0.3*smoking - 0.5*A)}
}

This creates a scenario where naive performance estimates from the RCT
will not generalize to the target population due to covariate shift.
}
\examples{
data(transport_sim)
head(transport_sim)

# Population sizes
table(transport_sim$source)  # 0=target, 1=source

# Estimate transportable MSE under no treatment
result <- tr_mse(
  predictions = transport_sim$risk_score,
  outcomes = transport_sim$event,
  treatment = transport_sim$treatment,
  source = transport_sim$source,
  covariates = transport_sim[, c("age", "biomarker", "smoking")],
  treatment_level = 0,
  analysis = "transport",
  estimator = "dr"
)
result

}
\keyword{datasets}
