% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/variance.R
\name{.cross_fit_nuisance}
\alias{.cross_fit_nuisance}
\title{Cross-Fitting for Nuisance Model Estimation}
\usage{
.cross_fit_nuisance(
  treatment,
  outcomes,
  covariates,
  treatment_level,
  predictions,
  K = 5,
  propensity_formula = NULL,
  outcome_formula = NULL,
  ...
)
}
\arguments{
\item{treatment}{Numeric vector of treatment indicators.}

\item{outcomes}{Numeric vector of observed outcomes.}

\item{covariates}{Matrix or data frame of covariates.}

\item{treatment_level}{Counterfactual treatment level.}

\item{predictions}{Numeric vector of model predictions.}

\item{K}{Number of folds for cross-fitting (default: 5).}

\item{propensity_formula}{Formula for propensity model (optional).}

\item{outcome_formula}{Formula for outcome model (optional).}

\item{...}{Additional arguments passed to model fitting functions.}
}
\value{
List containing:
\item{ps}{Cross-fitted propensity scores}
\item{h}{Cross-fitted conditional loss predictions}
\item{folds}{Fold assignments}
}
\description{
Implements K-fold cross-fitting for nuisance model estimation to enable
valid inference with flexible machine learning estimators.
}
\details{
Cross-fitting (sample splitting) allows the use of flexible machine learning
methods for nuisance function estimation while maintaining valid inference.
Each observation's nuisance function predictions are made using models
trained on data excluding that observation's fold.
}
\references{
Chernozhukov, V., Chetverikov, D., Demirer, M., et al. (2018).
"Double/debiased machine learning for treatment and structural parameters."
\emph{The Econometrics Journal}, 21(1), C1-C68.
}
\keyword{internal}
